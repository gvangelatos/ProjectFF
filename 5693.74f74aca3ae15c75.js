"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5693],{1448:(U,E,a)=>{a.d(E,{Bo:()=>l,FW:()=>e,Zr:()=>b,bS:()=>c,eu:()=>v,hm:()=>f});const b=["Business","Casual","Formal","Sportswear","Lingerie","Other"],c=["Clothing","Accessory","Footwear","Undergarments","Other"],l=["T-Shirt","Top","Dress","Skirt","Shirt","Pants","Shorts","Sweater","Corset","Jacket","Jeans","Miniskirt","Apron","Other"],f=["Anklet","Belt","Bangles and Bracelets","Brooches and Pins","Cuff Links and Studs","Earrings","Eyeglasses","Facemask","Gloves","Handbags","Headdresses and headwraps","Hat","Hair Accessory","Helmet","Handkerchiefs and pocket squares","Luggage","Necklace","Necktie","Purse","Wallet","Ring","Sash","Scarf","Sunglasses","Umbrella","Veil","Watch","Other"],v=["Chukka boots","Combat boots","Cowboy boots","Derby boots","Fashion boots","Go-go boots","Hiking boots","Motorcycle boots","Mukluk","Platform boots","Riding boots","Russian boots","Seaboots","Tabi boots","Tanker boots","Thigh-high boots","Valenki","Veldskoen","Waders","Wellington boots","Winklepickers","Sneakers","Ballet flats","Brothel creepers","Court shoes","Diabetic shoes","Espadrilles","Galoshes","Kitten heels","Derby shoes","Oxford shoes","Brogues","Blucher shoes","High-tops","Loafers","Mary Janes","Moccasins","Monks","Mules","Platform shoes","Plimsoll shoes","School shoes","Skate shoes","Tap shoes","Toe shoes","Sandals","Kolhapuri Chappals","Peshawari chappal","Flip-flops","Slide","W\xf6rishofer","Avarca","Slippers","Ballet shoes","Boat shoes","High-heeled footwear","Sailing boots","Ski boots","Pointe shoes","Other"],e=["Bloomers","Body tights","Bodysuit","Bra","Bustier ","Camisole","Chemise","Garter belt","Leggings","Petticoat","Shapers ","Socks","Stockings","Teddy","Tights","Undershirt","Underwear","Other"]},5693:(U,E,a)=>{a.r(E),a.d(E,{EditClothingItemPage:()=>B});var b=a(6895),c=a(433),l=a(7002),f=a(1448),v=a(3133),e=a(8256),y=a(9804),w=a(6635);function _(s,d){if(1&s&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&s){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.Oqu(i)}}function S(s,d){if(1&s&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&s){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.Oqu(i)}}function h(s,d){if(1&s&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&s){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}function u(s,d){if(1&s&&(e.ynx(0),e.YNc(1,h,2,2,"ion-select-option",12),e.BQk()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.clothingSubTypes)}}function g(s,d){if(1&s&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&s){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}function p(s,d){if(1&s&&(e.ynx(0),e.YNc(1,g,2,2,"ion-select-option",12),e.BQk()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.accessoriesSubTypes)}}function m(s,d){if(1&s&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&s){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}function I(s,d){if(1&s&&(e.ynx(0),e.YNc(1,m,2,2,"ion-select-option",12),e.BQk()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.footwearSubTypes)}}function P(s,d){if(1&s&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&s){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}function x(s,d){if(1&s&&(e.ynx(0),e.YNc(1,P,2,2,"ion-select-option",12),e.BQk()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.undergarmentsSubTypes)}}function O(s,d){if(1&s&&(e.TgZ(0,"ion-select-option",20),e._uU(1),e.qZA()),2&s){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.hij(" ",i," ")}}function A(s,d){if(1&s&&(e.ynx(0),e.YNc(1,O,2,2,"ion-select-option",12),e.BQk()),2&s){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.otherSubTypes)}}let B=(()=>{class s{constructor(i,n,t,o,r){this.loadingCtrl=i,this.wardrobeService=n,this.toastCtrl=t,this.navCtrl=o,this.activatedRoute=r,this.clothingTypes=f.bS,this.clothingSubTypes=f.Bo,this.accessoriesSubTypes=f.hm,this.footwearSubTypes=f.eu,this.undergarmentsSubTypes=f.FW,this.clothingSettings=f.Zr,this.otherSubTypes=["Other"],this._subscriptions=[],this.thumbnailError=!0}ngOnInit(){var i,n;this.form=new c.cw({clothingSetting:new c.NI(null,{updateOn:"change",validators:[c.kI.required]}),clothingType:new c.NI(null,{updateOn:"change",validators:[c.kI.required]}),clothingSubType:new c.NI(null,{updateOn:"change",validators:[c.kI.required]}),color:new c.NI(null,{updateOn:"change",validators:[c.kI.required]}),imageUrl:new c.NI(null,{updateOn:"change",validators:[c.kI.required]}),isFavorite:new c.NI(null,{updateOn:"change",validators:[]})}),this._subscriptions.push(null===(i=this.activatedRoute)||void 0===i||null===(n=i.paramMap)||void 0===n?void 0:n.subscribe(t=>{null!=t&&t.has("clothingItemId")?this.loadingCtrl.create({message:"Fetching Item data..."}).then(o=>{o.present(),this.wardrobeService.getClothingItemsById(null==t?void 0:t.get("clothingItemId")).subscribe(r=>{(!r||!r.length)&&this.navCtrl.navigateBack("/wardrobe"),this.clothingItem=r[0],this.form.patchValue({clothingSetting:this.clothingItem.setting,clothingType:this.clothingItem.type,clothingSubType:this.clothingItem.subType,imageUrl:this.clothingItem.imageUrl,color:this.clothingItem.color}),o.dismiss()})}):this.navCtrl.navigateBack("/home/tabs/feed")}))}onThumbnailError(){console.log("onThumbnailError"),this.thumbnailError=!0}onIonImgDidLoad(i){console.log("onIonImgDidLoad"),this.thumbnailError=!1}onCreateClothingItem(){var i;const n=new v.k(this.form.value.clothingSetting,this.form.value.clothingType,this.form.value.clothingSubType,this.form.value.imageUrl,null===(i=this.clothingItem)||void 0===i?void 0:i.id,this.form.value.color);this.loadingCtrl.create({message:"UpdatingItem..."}).then(t=>{t.present(),this.wardrobeService.updateClothingItem(n).subscribe(o=>{o?this.toastCtrl.create({message:"Item updated Successfully!",duration:1500,position:"bottom",icon:"checkmark-circle-outline",color:"success"}).then(r=>{r.present(),t.dismiss(),this.navCtrl.navigateBack("/wardrobe")}):this.toastCtrl.create({message:"Cold not update item!",duration:1500,position:"bottom",icon:"close-circle-outline",color:"danger"}).then(r=>{r.present()})})})}ngOnDestroy(){this._subscriptions.forEach(i=>i.unsubscribe())}}return s.\u0275fac=function(i){return new(i||s)(e.Y36(l.HT),e.Y36(y.U),e.Y36(l.yF),e.Y36(l.SH),e.Y36(w.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-edit-clothing-item"]],standalone:!0,features:[e.jDz],decls:45,vars:18,consts:[[3,"translucent"],["slot","start"],["defaultHref","/wardrobe"],["slot","primary"],[3,"disabled","click"],["color","primary","name","checkmark","slot","icon-only"],[3,"fullscreen"],["collapse","condense"],["size","large",1,"ion-text-center"],[3,"formGroup"],["size-sm","6","offset-sm","3"],["name","clothingSetting","formControlName","clothingSetting","label","Item Occasion","label-placement","floating",3,"value"],[3,"value",4,"ngFor","ngForOf"],["name","clothingType","formControlName","clothingType","label","Item Type","label-placement","floating",3,"value"],["name","clothingSubType","formControlName","clothingSubType","label","Item Specific Type","label-placement","floating",3,"value"],[4,"ngIf"],["type","text","name","color","label","Item Color","formControlName","color","labelPlacement","floating",3,"value"],["type","url","name","imageUrl","label","Image URL","formControlName","imageUrl","labelPlacement","floating",3,"clearInput","value"],["slot","end"],[3,"src","ionError","ionImgDidLoad"],[3,"value"]],template:function(i,n){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Edit your Item!"),e.qZA(),e.TgZ(6,"ion-buttons",3)(7,"ion-button",4),e.NdJ("click",function(){return n.onCreateClothingItem()}),e._UZ(8,"ion-icon",5),e.qZA()()()(),e.TgZ(9,"ion-content",6)(10,"ion-header",7)(11,"ion-toolbar")(12,"ion-title",8),e._uU(13," Edit your Item! "),e.qZA()()(),e.TgZ(14,"form",9)(15,"ion-grid")(16,"ion-row")(17,"ion-col",10)(18,"ion-item")(19,"ion-select",11),e.YNc(20,_,2,2,"ion-select-option",12),e.qZA()()()(),e.TgZ(21,"ion-row")(22,"ion-col",10)(23,"ion-item")(24,"ion-select",13),e.YNc(25,S,2,2,"ion-select-option",12),e.qZA()()()(),e.TgZ(26,"ion-row")(27,"ion-col",10)(28,"ion-item")(29,"ion-select",14),e.YNc(30,u,2,1,"ng-container",15),e.YNc(31,p,2,1,"ng-container",15),e.YNc(32,I,2,1,"ng-container",15),e.YNc(33,x,2,1,"ng-container",15),e.YNc(34,A,2,1,"ng-container",15),e.qZA()()()(),e.TgZ(35,"ion-row")(36,"ion-col",10)(37,"ion-item"),e._UZ(38,"ion-input",16),e.qZA()()(),e.TgZ(39,"ion-row")(40,"ion-col",10)(41,"ion-item"),e._UZ(42,"ion-input",17),e.TgZ(43,"ion-thumbnail",18)(44,"ion-img",19),e.NdJ("ionError",function(){return n.onThumbnailError()})("ionImgDidLoad",function(o){return n.onIonImgDidLoad(o)}),e.qZA()()()()()()()()),2&i&&(e.Q6J("translucent",!0),e.xp6(7),e.Q6J("disabled",!n.form.valid||n.form.pristine),e.xp6(2),e.Q6J("fullscreen",!0),e.xp6(5),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("value",null==n.clothingItem?null:n.clothingItem.setting),e.xp6(1),e.Q6J("ngForOf",n.clothingSettings),e.xp6(4),e.Q6J("value",null==n.clothingItem?null:n.clothingItem.type),e.xp6(1),e.Q6J("ngForOf",n.clothingTypes),e.xp6(4),e.Q6J("value",null==n.clothingItem?null:n.clothingItem.subType),e.xp6(1),e.Q6J("ngIf","Clothing"===n.form.value.clothingType),e.xp6(1),e.Q6J("ngIf","Accessory"===n.form.value.clothingType),e.xp6(1),e.Q6J("ngIf","Footwear"===n.form.value.clothingType),e.xp6(1),e.Q6J("ngIf","Undergarments"===n.form.value.clothingType),e.xp6(1),e.Q6J("ngIf","Other"===n.form.value.clothingType),e.xp6(4),e.Q6J("value",null==n.clothingItem?null:n.clothingItem.color),e.xp6(4),e.Q6J("clearInput",!0)("value",null==n.clothingItem?null:n.clothingItem.imageUrl),e.xp6(2),e.Q6J("src",n.form.value.imageUrl))},dependencies:[l.Pc,l.oU,l.YG,l.Sm,l.wI,l.W2,l.jY,l.Gu,l.gu,l.Xz,l.pK,l.Ie,l.Nd,l.t9,l.n0,l.Bs,l.wd,l.sr,l.QI,l.j9,l.cs,b.ez,b.sg,b.O5,c.u5,c._Y,c.JJ,c.JL,c.UX,c.sg,c.u],styles:["[_nghost-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--border-radius: 6px}"]}),s})()},9804:(U,E,a)=>{a.d(E,{U:()=>w});var b=a(1135),c=a(2099),l=a(5698),f=a(4004),v=a(8505),e=a(1448),y=a(8256);let w=(()=>{class _{constructor(){this._wardrobe=new b.X([{setting:"Casual",type:"Clothing",subType:"T-Shirt",imageUrl:"https://gant.com/dw/image/v2/BFLN_PRD/on/demandware.static/-/Sites-gant-master/default/dwf2e5d003/pim/202204/234100/110/202204-234100-110-flat-fv-1.jpg?sw=650",id:"617253",color:"white"},{setting:"Casual",type:"Clothing",subType:"Jeans",imageUrl:"https://img.freepik.com/premium-photo/jeans-trousers-hanging-with-wood-hanger-wall_1339-156588.jpg?w=2000",id:"6232253",color:"blue"},{setting:"Casual",type:"Footwear",subType:"Sneakers",imageUrl:"https://d2ob0iztsaxy5v.cloudfront.net/product/340065/3400651760m7_zm.jpg",id:"9857553",color:"white"},{setting:"Casual",type:"Accessory",subType:"Ring",imageUrl:"https://cdn.shopify.com/s/files/1/1915/8837/products/20170518-product-image-221164957_2048x2048_9da7c6c5-78c7-40f0-a108-9d1106a41b15_grande.jpg?v=1527369292",id:"98023153",color:"silver"},{setting:"Business",type:"Clothing",subType:"Shirt",imageUrl:"https://hips.hearstapps.com/hmg-prod/images/other-stories-shirt-1567691304.jpeg",id:"009092109",color:"white"}]),this._wardrobeFiltered=new b.X([])}get wardrobeFiltered(){return this._wardrobeFiltered.pipe((0,c.g)(800))}get wardrobe(){return this._wardrobe.pipe((0,c.g)(800))}getClothingItemsByType(h){return this.wardrobe.pipe((0,l.q)(1),(0,c.g)(500),(0,f.U)(u=>[...u.filter(g=>g.type===h)]))}addClothingItem(h){return this.wardrobe.pipe((0,l.q)(1),(0,c.g)(300),(0,v.b)(u=>{let g=[...u];g.push(h),this._wardrobe.next(g)}))}deleteClothingItem(h){return this.wardrobe.pipe((0,l.q)(1),(0,c.g)(500),(0,v.b)(u=>{const g=[...u.filter(p=>p.id!==h)];this._wardrobe.next(g)}))}getClothingItemsById(h){return this.wardrobe.pipe((0,l.q)(1),(0,c.g)(500),(0,f.U)(u=>[...u.filter(g=>g.id===h)]))}getFilteredWardrobe(h){return this.wardrobe.pipe((0,l.q)(1),(0,c.g)(500),(0,v.b)(u=>{let g=[];if("type"===h)for(let p=0;p<e.bS.length;p++){let m=u.filter(I=>I.type===e.bS[p]);m&&m.length&&g.push({groupName:e.bS[p],groupItems:[...m]})}else if("setting"===h)for(let p=0;p<e.Zr.length;p++){let m=u.filter(I=>I.setting===e.Zr[p]);m&&m.length&&g.push({groupName:e.Zr[p],groupItems:[...m]})}else if("color"===h){const p=[...new Set(u.map(m=>m.color))];for(let m=0;m<p.length;m++){let I=u.filter(P=>P.color===p[m]);I&&I.length&&g.push({groupName:p[m],groupItems:[...I]})}}this._wardrobeFiltered.next([...g])}))}updateClothingItem(h){return this.wardrobe.pipe((0,l.q)(1),(0,c.g)(300),(0,v.b)(u=>{const g=u.findIndex(m=>m.id===h.id),p=[...u];p[g]=h,this._wardrobe.next(p)}))}getClothingItemsBySetting(h){return this.wardrobe.pipe((0,l.q)(1),(0,c.g)(500),(0,f.U)(u=>[...u.filter(g=>g.setting===h)]))}getClothingItemsByColor(h){return this.wardrobe.pipe((0,l.q)(1),(0,c.g)(500),(0,f.U)(u=>[...u.filter(g=>g.color===h)]))}}return _.\u0275fac=function(h){return new(h||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},2099:(U,E,a)=>{a.d(E,{g:()=>i});var b=a(727);class c extends b.w0{constructor(t,o){super()}schedule(t,o=0){return this}}const l={setInterval(n,t,...o){const{delegate:r}=l;return null!=r&&r.setInterval?r.setInterval(n,t,...o):setInterval(n,t,...o)},clearInterval(n){const{delegate:t}=l;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};var f=a(8737);const e={now:()=>(e.delegate||Date).now(),delegate:void 0};class y{constructor(t,o=y.now){this.schedulerActionCtor=t,this.now=o}schedule(t,o=0,r){return new this.schedulerActionCtor(this,t).schedule(r,o)}}y.now=e.now;const _=new class w extends y{constructor(t,o=y.now){super(t,o),this.actions=[],this._active=!1}flush(t){const{actions:o}=this;if(this._active)return void o.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=o.shift());if(this._active=!1,r){for(;t=o.shift();)t.unsubscribe();throw r}}}(class v extends c{constructor(t,o){super(t,o),this.scheduler=t,this.work=o,this.pending=!1}schedule(t,o=0){var r;if(this.closed)return this;this.state=t;const T=this.id,C=this.scheduler;return null!=T&&(this.id=this.recycleAsyncId(C,T,o)),this.pending=!0,this.delay=o,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(C,this.id,o),this}requestAsyncId(t,o,r=0){return l.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,o,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return o;null!=o&&l.clearInterval(o)}execute(t,o){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,o);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,o){let T,r=!1;try{this.work(t)}catch(C){r=!0,T=C||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),T}unsubscribe(){if(!this.closed){const{id:t,scheduler:o}=this,{actions:r}=o;this.work=this.state=this.scheduler=null,this.pending=!1,(0,f.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(o,t,null)),this.delay=null,super.unsubscribe()}}}),S=_;var h=a(7272),u=a(5698),g=a(4482),p=a(5403),m=a(5032),P=a(9718),x=a(5577);function O(n,t){return t?o=>(0,h.z)(t.pipe((0,u.q)(1),function I(){return(0,g.e)((n,t)=>{n.subscribe((0,p.x)(t,m.Z))})}()),o.pipe(O(n))):(0,x.z)((o,r)=>n(o,r).pipe((0,u.q)(1),(0,P.h)(o)))}var A=a(9751),B=a(3532);function i(n,t=_){const o=function d(n=0,t,o=S){let r=-1;return null!=t&&((0,B.K)(t)?o=t:r=t),new A.y(T=>{let C=function s(n){return n instanceof Date&&!isNaN(n)}(n)?+n-o.now():n;C<0&&(C=0);let D=0;return o.schedule(function(){T.closed||(T.next(D++),0<=r?this.schedule(void 0,r):T.complete())},C)})}(n,t);return O(()=>o)}}}]);