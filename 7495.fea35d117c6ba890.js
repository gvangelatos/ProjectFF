"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7495],{7495:(D,d,c)=>{c.r(d),c.d(d,{ArticlePage:()=>Y});var m=c(5861),g=c(6895),P=c(433),o=c(7002),t=c(8256),v=c(6635),A=c(5132);function O(i,a){if(1&i&&(t.TgZ(0,"ion-title"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(null==e.article?null:e.article.title)}}function T(i,a){if(1&i&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&i){const e=t.oxw();let n,l,s;t.xp6(1),t.AsE(" By ",null==e.article?null:e.article.author," ",null==e.article||null==e.article.date||null==(n=e.article.date.toJSON())||null==(l=n.slice(0,10))||null==(s=l.split("-"))?null:s.join("/")," ")}}function x(i,a){if(1&i&&(t.TgZ(0,"span",17),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);let n,l,s;t.xp6(1),t.AsE(" By ",null==e.article?null:e.article.author," ",null==e.article||null==e.article.date||null==(n=e.article.date.toJSON())||null==(l=n.slice(0,10))||null==(s=l.split("-"))?null:s.join("/"),"")}}function C(i,a){if(1&i&&(t.TgZ(0,"ion-title",18),t._uU(1),t._UZ(2,"br"),t.YNc(3,x,2,2,"span",10),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij("",null==e.article?null:e.article.title," "),t.xp6(2),t.Q6J("ngIf",null==e.article?null:e.article.author)}}function Z(i,a){if(1&i&&(t.TgZ(0,"ion-col",20)(1,"span",21),t._uU(2),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(null==e?null:e.paragraphTitle)}}function F(i,a){if(1&i&&(t.TgZ(0,"ion-col",20),t._UZ(1,"ion-img",14),t.TgZ(2,"span",15),t._uU(3),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",null==e?null:e.imageUrl),t.xp6(2),t.Oqu(null==e?null:e.imageTitle)}}function M(i,a){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(null==e?null:e.listTitle)}}function b(i,a){if(1&i&&(t.TgZ(0,"li",25),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.text," ")}}function y(i,a){if(1&i&&(t.TgZ(0,"ion-col",20),t.YNc(1,M,2,1,"span",22),t.TgZ(2,"ul"),t.YNc(3,b,2,1,"li",23),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",null==e?null:e.listTitle),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.listItems)}}function I(i,a){if(1&i&&(t.TgZ(0,"ion-col",20)(1,"p",26),t._uU(2),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(null==e?null:e.text)}}function U(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"ion-row"),t.YNc(2,Z,3,1,"ion-col",19),t.qZA(),t.TgZ(3,"ion-row"),t.YNc(4,F,4,2,"ion-col",19),t.qZA(),t.TgZ(5,"ion-row"),t.YNc(6,y,4,2,"ion-col",19),t.qZA(),t.TgZ(7,"ion-row"),t.YNc(8,I,3,1,"ion-col",19),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(2),t.Q6J("ngIf",null==e?null:e.paragraphTitle),t.xp6(2),t.Q6J("ngIf",null==e?null:e.hasImage),t.xp6(2),t.Q6J("ngIf",null==e?null:e.hasList),t.xp6(2),t.Q6J("ngIf",null==e?null:e.text)}}let Y=(()=>{class i{constructor(e,n,l,s,r,u,p,_){this.router=e,this.navCtrl=n,this.activatedRoute=l,this.loadingCtrl=s,this.feedService=r,this.alertCtrl=u,this.toastCtrl=p,this.config=_,this.iconFavorite="heart-outline",this._subscriptions=[],this.mode="ios"}ngOnInit(){var e,n;this.mode=this.config.get("mode"),null===(e=this.activatedRoute)||void 0===e||null===(n=e.paramMap)||void 0===n||n.subscribe(l=>{null!=l&&l.has("articleId")?this.loadingCtrl.create({message:"Loading Article..."}).then(s=>{s.present(),this._subscriptions.push(this.feedService.getArticle(null==l?void 0:l.get("articleId")).subscribe(r=>{(!r||!r.id)&&(s.dismiss(),this.presentAlert()),this.article=r,this.iconFavorite=this.article.isFavorite?"heart":"heart-outline",s.dismiss()}))}):this.navCtrl.navigateBack("/home/tabs/feed")})}presentAlert(){var e=this;return(0,m.Z)(function*(){yield(yield e.alertCtrl.create({header:"Oops...!",subHeader:"It seems you encountered a problem!",message:"We couldn't load your article!",buttons:[{text:"Back to Safety",role:"confirm",handler:()=>{e.navCtrl.navigateBack("/home/tabs/feed")}}]})).present()})()}presentToast(e,n,l,s){var r=this;return(0,m.Z)(function*(){yield(yield r.toastCtrl.create({message:n,duration:1500,position:e,icon:l,color:s})).present()})()}askForFavorites(){var e,n,l;this.alertCtrl.create({header:null!==(e=this.article)&&void 0!==e&&e.isFavorite?"Remove from Favorites?":"Add to Favorites?",subHeader:null!==(n=this.article)&&void 0!==n&&n.isFavorite?"Do you want to remove this article to your favorites?":"Do you want to add this article to your favorites?",buttons:[{text:"Cancel",role:"Cancel"},{text:null!==(l=this.article)&&void 0!==l&&l.isFavorite?"Remove it!":"Add it!",role:"confirm",handler:()=>{var s;this.loadingCtrl.create({message:null!==(s=this.article)&&void 0!==s&&s.isFavorite?"Removing from Favorites...":"Adding to Favorites..."}).then(r=>{var u;r.present(),this.feedService.toggleArticleFavorites(null===(u=this.article)||void 0===u?void 0:u.id).subscribe(p=>{var _,h,f;p?(this.iconFavorite=null!==(_=this.article)&&void 0!==_&&_.isFavorite?"heart-outline":"heart",r.dismiss(),this.presentToast("bottom",null!==(h=this.article)&&void 0!==h&&h.isFavorite?"Removed Succesfully!":"Added Succesfully!","checkmark-circle-outline","success"),this.article&&(this.article.isFavorite=!this.article.isFavorite)):(r.dismiss(),this.presentToast("bottom",null!==(f=this.article)&&void 0!==f&&f.isFavorite?"Could not Remove to Favorites":"Could not Add to Favorites","close-circle-outline","danger"))})})}}]}).then(s=>{s.present()})}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(v.F0),t.Y36(o.SH),t.Y36(v.gz),t.Y36(o.HT),t.Y36(A.q),t.Y36(o.Br),t.Y36(o.yF),t.Y36(o.De))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-article"]],standalone:!0,features:[t.jDz],decls:23,vars:10,consts:[[3,"translucent"],["slot","start"],["defaultHref","/home/tabs/feed"],[4,"ngIf"],["slot","primary"],[3,"click"],["slot","icon-only",3,"name"],[3,"fullscreen"],["collapse","condense"],["size","small"],["class","subtitle",4,"ngIf"],["size","small","class","title-md ion-text-center",4,"ngIf"],[1,"article-info"],["size-sm","6","offset-sm","3",1,""],[3,"src"],[1,"image-subtitle"],[4,"ngFor","ngForOf"],[1,"subtitle"],["size","small",1,"title-md","ion-text-center"],["size-sm","6","offset-sm","3",4,"ngIf"],["size-sm","6","offset-sm","3"],[1,"paragraph-title"],["class","list-title",4,"ngIf"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-title"],[1,"list-item"],[1,"paragraph-text","ion-text-justify"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.YNc(4,O,2,1,"ion-title",3),t.TgZ(5,"ion-buttons",4)(6,"ion-button",5),t.NdJ("click",function(){return n.askForFavorites()}),t._UZ(7,"ion-icon",6),t.qZA()()()(),t.TgZ(8,"ion-content",7)(9,"ion-header",8)(10,"ion-toolbar")(11,"ion-title",9),t._uU(12),t._UZ(13,"br"),t.YNc(14,T,2,2,"span",10),t.qZA()()(),t.YNc(15,C,4,2,"ion-title",11),t.TgZ(16,"ion-grid",12)(17,"ion-row")(18,"ion-col",13),t._UZ(19,"ion-img",14),t.TgZ(20,"span",15),t._uU(21),t.qZA()()(),t.YNc(22,U,9,4,"ng-container",16),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(4),t.Q6J("ngIf","ios"===n.mode),t.xp6(3),t.Q6J("name",n.iconFavorite),t.xp6(1),t.Q6J("fullscreen",!0),t.xp6(4),t.hij("",null==n.article?null:n.article.title," "),t.xp6(2),t.Q6J("ngIf",null==n.article?null:n.article.author),t.xp6(1),t.Q6J("ngIf","ios"!==n.mode),t.xp6(4),t.Q6J("src",null==n.article?null:n.article.imageUrl),t.xp6(2),t.Oqu(null==n.article?null:n.article.imageTitle),t.xp6(1),t.Q6J("ngForOf",null==n.article?null:n.article.paragraphs))},dependencies:[o.Pc,o.oU,o.YG,o.Sm,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Xz,o.Nd,o.wd,o.sr,o.cs,g.ez,g.sg,g.O5,P.u5],styles:["[_nghost-%COMP%]   ion-title[_ngcontent-%COMP%]{font-size:30px;font-weight:700}[_nghost-%COMP%]   ion-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:14px;opacity:.7}[_nghost-%COMP%]   ion-title.title-md[_ngcontent-%COMP%]{height:auto;margin-top:15px;margin-bottom:15px}[_nghost-%COMP%]   .article-info[_ngcontent-%COMP%]   .image-subtitle[_ngcontent-%COMP%]{font-size:13px;opacity:.6}[_nghost-%COMP%]   .article-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   .article-info[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%], [_nghost-%COMP%]   .article-info[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{opacity:.8}[_nghost-%COMP%]   .article-info[_ngcontent-%COMP%]   .paragraph-title[_ngcontent-%COMP%]{font-size:22px;font-weight:700}[_nghost-%COMP%]   .article-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:square}"]}),i})()}}]);