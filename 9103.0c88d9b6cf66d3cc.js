"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9103],{9103:(v,u,a)=>{a.r(u),a.d(u,{CreateOutfitPage:()=>P});var _=a(6895),l=a(433),i=a(7002),m=a(1448),g=a(5698),d=a(8505),f=a(8004),t=a(8256),h=a(9804),p=a(2575);const C=["modal"];function O(o,c){if(1&o&&(t.TgZ(0,"ion-select-option",19),t._uU(1),t.qZA()),2&o){const e=c.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function T(o,c){if(1&o&&(t.ynx(0),t.TgZ(1,"b"),t._uU(2,"Type:"),t.qZA(),t._uU(3),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.type,", ")}}function Z(o,c){if(1&o&&(t.ynx(0),t.TgZ(1,"b"),t._uU(2,"Color:"),t.qZA(),t._uU(3),t.BQk()),2&o){const e=t.oxw().$implicit;t.xp6(3),t.hij(" ",e.color,"")}}function I(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item")(1,"ion-thumbnail",1),t._UZ(2,"img",25),t.qZA(),t.TgZ(3,"ion-checkbox",26),t.NdJ("ionChange",function(s){t.CHM(e);const r=t.oxw(2);return t.KtG(r.checkboxChange(s))}),t.TgZ(4,"ion-label")(5,"h5"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t.YNc(8,T,4,1,"ng-container",27),t.YNc(9,Z,4,1,"ng-container",27),t.qZA()()()()}if(2&o){const e=c.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("src",e.imageUrl,t.LSH),t.xp6(1),t.Q6J("value",e)("checked",n.isChecked(e.id)),t.xp6(3),t.AsE("",e.setting," ",e.subType,""),t.xp6(2),t.Q6J("ngIf",e.color),t.xp6(1),t.Q6J("ngIf",e.color)}}function b(o,c){if(1&o){const e=t.EpF();t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",20),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.cancelChanges())}),t._uU(4,"Cancel"),t.qZA()(),t.TgZ(5,"ion-title"),t._uU(6,"Choose Items"),t.qZA(),t.TgZ(7,"ion-buttons",21)(8,"ion-button",20),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.confirmChanges())}),t._uU(9,"Done"),t.qZA()()()(),t.TgZ(10,"ion-content",22)(11,"ion-list",23),t.YNc(12,I,10,7,"ion-item",24),t.qZA()()}if(2&o){const e=t.oxw();t.xp6(11),t.Q6J("inset",!0),t.xp6(1),t.Q6J("ngForOf",e.clothingItems)("ngForTrackBy",e.trackItems)}}let P=(()=>{class o{constructor(e,n,s,r,x){this.wardrobeService=e,this.loadingCtrl=n,this.outfitsService=s,this.toastCtrl=r,this.navCtrl=x,this.clothingSettings=m.Zr,this.clothingItems=[],this.selectedItems=[]}ngOnInit(){this.wardrobeService.wardrobe.pipe((0,g.q)(1),(0,d.b)(e=>{this.clothingItems=e})).subscribe(),this.form=new l.cw({outfitSetting:new l.NI(null,{updateOn:"change",validators:[l.kI.required]}),outfitName:new l.NI(null,{updateOn:"change",validators:[l.kI.required]})})}onAddClothingItem(){}onCreateNewOutfit(){console.log(this.form),console.log(this.selectedItems);const e=new f.P(this.selectedItems,this.form.value.outfitName,this.form.value.outfitSetting,Math.random().toString(),new Date,!1);this.loadingCtrl.create({message:"Adding Outfit to your wardrobe..."}).then(n=>{n.present(),this.outfitsService.addOutfit(e).subscribe(s=>{s?this.toastCtrl.create({message:"Outfit added Successfully!",duration:1500,position:"bottom",icon:"checkmark-circle-outline",color:"success"}).then(r=>{r.present(),n.dismiss(),this.navCtrl.navigateBack("/wardrobe")}):this.toastCtrl.create({message:"Could not add Outfit!",duration:1500,position:"bottom",icon:"close-circle-outline",color:"danger"}).then(r=>{r.present()})})})}cancelChanges(){this.modal.dismiss()}confirmChanges(){this.modal.dismiss()}trackItems(e,n){return n.id}isChecked(e){return this.selectedItems.find(n=>n.id===e)}checkboxChange(e){const{checked:n,value:s}=e.detail;this.selectedItems=n?[...this.selectedItems,s]:this.selectedItems.filter(r=>r.id!==s.id)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(h.U),t.Y36(i.HT),t.Y36(p.e),t.Y36(i.yF),t.Y36(i.SH))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-create-outfit"]],viewQuery:function(e,n){if(1&e&&t.Gf(C,7),2&e){let s;t.iGM(s=t.CRH())&&(n.modal=s.first)}},standalone:!0,features:[t.jDz],decls:36,vars:6,consts:[[3,"translucent"],["slot","start"],["defaultHref","/wardrobe"],["slot","primary"],[3,"disabled","click"],["color","primary","name","checkmark","slot","icon-only"],[3,"fullscreen"],["collapse","condense"],["size","large",1,"ion-text-center"],[3,"formGroup"],["size-sm","6","offset-sm","3"],["type","text","name","outfitName","label","Outfit Name","formControlName","outfitName","labelPlacement","floating"],["name","outfitSetting","formControlName","outfitSetting","label","Outfit Occasion","label-placement","floating"],[3,"value",4,"ngFor","ngForOf"],["size-sm","6",1,"ion-text-right"],["id","selected-clothing-items","size","small",3,"click"],["slot","start","name","add-outline"],["trigger","selected-clothing-items"],["modal",""],[3,"value"],[3,"click"],["slot","end"],["color","light"],["id","modal-list",3,"inset"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"src"],["aria-label","Label",3,"value","checked","ionChange"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),t._UZ(3,"ion-back-button",2),t.qZA(),t.TgZ(4,"ion-title"),t._uU(5," Create a new Outfit! "),t.qZA(),t.TgZ(6,"ion-buttons",3)(7,"ion-button",4),t.NdJ("click",function(){return n.onCreateNewOutfit()}),t._UZ(8,"ion-icon",5),t.qZA()()()(),t.TgZ(9,"ion-content",6)(10,"ion-header",7)(11,"ion-toolbar")(12,"ion-title",8),t._uU(13," Create a new Outfit! "),t.qZA()()(),t.TgZ(14,"form",9)(15,"ion-grid")(16,"ion-row")(17,"ion-col",10)(18,"ion-item"),t._UZ(19,"ion-input",11),t.qZA()()(),t.TgZ(20,"ion-row")(21,"ion-col",10)(22,"ion-item")(23,"ion-select",12),t.YNc(24,O,2,2,"ion-select-option",13),t.qZA()()()(),t.TgZ(25,"ion-row")(26,"ion-col",14)(27,"ion-chip"),t._uU(28),t.qZA()(),t.TgZ(29,"ion-col",14)(30,"ion-button",15),t.NdJ("click",function(){return n.onAddClothingItem()}),t._UZ(31,"ion-icon",16),t._uU(32," Add Clothing Item! "),t.qZA()()()()(),t.TgZ(33,"ion-modal",17,18),t.YNc(35,b,13,3,"ng-template"),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(7),t.Q6J("disabled",!n.form.valid&&!n.selectedItems.length),t.xp6(2),t.Q6J("fullscreen",!0),t.xp6(5),t.Q6J("formGroup",n.form),t.xp6(10),t.Q6J("ngForOf",n.clothingSettings),t.xp6(4),t.hij(" ",n.selectedItems.length," Items Selected "))},dependencies:[i.Pc,i.oU,i.YG,i.Sm,i.nz,i.hM,i.wI,i.W2,i.jY,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.Nd,i.t9,i.n0,i.Bs,i.wd,i.sr,i.ki,i.w,i.QI,i.j9,i.cs,_.ez,_.sg,_.O5,l.u5,l._Y,l.JJ,l.JL,l.UX,l.sg,l.u]}),o})()}}]);